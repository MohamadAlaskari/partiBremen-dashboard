<div class="app-header bg-light">

  <div class="app-header-left">
    @if (currentUser?.role =='ADMIN' ||currentUser?.role =='MODERATOR' ) {

    <div class="icon-menu" (click)="toggleSidebar()">
      <span class="app-icon"></span>
    </div>
    }@else {
   <img src="../../../../assets/roadmap.png" alt="logo.png" class="icon-logo" >

    }
    <p class="app-name">{{title}}</p>
  </div>

  <div class="app-header-right">
    @if (currentUser?.role !='ADMIN' ||currentUser?.role !='MODERATOR' ) {

    <button class="home-btn" [routerLink]="[ '/home' ]" routerLinkActive="active">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        class="feather feather-bell">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
        <polyline points="9 22 9 12 15 12 15 22" />
      </svg>
    </button>
    }

    <button (click)="toggleTheme()" class="mode-switch" title="Switch Theme">
      <svg class="moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
        stroke-width="2" width="24" height="24" viewBox="0 0 24 24">
        <defs></defs>
        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
      </svg>
    </button>





    @if (currentUser?.role =='ADMIN' ||currentUser?.role =='MODERATOR' ) {






    <button class="notification-btn" (click)="onClickToggleNotifications()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        class="feather feather-bell">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
        <path d="M13.73 21a2 2 0 0 1-3.46 0" />
      </svg>
    </button>
    }




    <div class="profile-dropdown">
      <button class="profile-btn" (click)="toggleDropdown()">
        <span class="profile-name">{{ currentUser?.name }} {{ currentUser?.surname }}</span>
        <mat-icon style="color: black;">expand_more</mat-icon>
      </button>
      <div class="dropdown-menu" [class.show]="isDropdownOpen">
        <a class="dropdown-item" [routerLink]="['/user-management/view-user',currentUser?.id]">My Profile</a>
        <a class="dropdown-item" [routerLink]="['/user-management/update-user',currentUser?.id]">Edit Profile</a>
        <a class="dropdown-item" [routerLink]="['/user-management/delete-user',currentUser?.id]">Delete Account</a>

        <button (click)="logout()" class="logout-btn" title="Logout">

          <mat-icon class="manage_accounts_icon" fontSet="material-icons-outlined">
            logout
          </mat-icon>
        </button>
      </div>
    </div>


  </div>

</div>
